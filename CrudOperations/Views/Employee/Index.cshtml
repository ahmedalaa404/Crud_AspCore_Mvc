@model IEnumerable<EmployeeVm>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="my-5">
	<form asp-action="Index">
		<div class="row justify-content-center align-items-center">
			<div class="col-lg-8">
				<input class="form-control" placeholder="Search....." name="SearchValue" />
			</div>
			<div class="col-lg-3">
				<button class="btn btn-success" type="submit">Search</button>
			</div>
		</div>
	</form>

</div>


@{
	if (Model.Count() > 0)
	{

		<center>
			<a class="btn btn-success" asp-action="Create">Create Employee</a>
		</center>
		<div class="my-4">
			<table class="table table-dark table-striped">
				<thead>
					<tr>
						<th>@Html.DisplayNameFor(x=>x.name)</th>
						<th>@Html.DisplayNameFor(x=>x.Salary)</th>
					
						@* <th>@Html.DisplayNameFor(x=>x.age)</th>
				<th>@Html.DisplayNameFor(x=>x.EmailAddress)</th>
				<th>@Html.DisplayNameFor(x=>x.IsActive)</th>
				<th>@Html.DisplayNameFor(x=>x.NumberPhone)</th>
				<th>@Html.DisplayNameFor(x=>x.HireDate)</th>	  *@
						<th>@Html.DisplayNameFor(x=>x.department)</th>
						<th>@Html.DisplayNameFor(x=>x.Image)</th>


						<th>Delete</th>
						<th>Update</th>
						<th>Details</th>

					</tr>
				</thead>

				<tbody>
					@foreach (var item in Model)
					{
						<tr>
							<th>@item.name</th>
							<th>@Html.DisplayFor(x=>@item.Salary)</th>
					
							@*	<th>@item.age</th>
				<th>@Html.DisplayFor(x=>@item.EmailAddress)</th>
				<th>@Html.DisplayFor(x=>@item.IsActive)</th>
				<th>@item.NumberPhone</th>
				<th>@item.HireDate</th>		 *@

							<th>@Html.DisplayFor(x=>item.department.Name)</th>
							<th>
								@{
									if(item.ImageName is not null)
									{
										//<img src="~/Filles/Image/@item.ImageName" />
										<img src="~/Filles/Image/@item.ImageName" width="100" height="100" class="rounded-circle" alt="This Image OF @item.name" />

									}
								}
							</th>
							@*@Html.DisplayFor(x=>item.Image)*@
							<partial name="PartialView/ButtonsIndex" model="@item.id.ToString()">

						</tr>
					}

				</tbody>
			</table>
		</div>
	}
	else
	{
		<center>
			<div class="alert alert-warning">

				<p class="alert alert-warning text-danger"> No Employees Here</p>
				<a class="btn btn-success" asp-action="Create" asp-controller="Employee">Create Employee</a>

			</div>

		</center>

	}
}